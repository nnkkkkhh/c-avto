import{c as ae,R as y,r as je,u as Ne,U as Ae,C as we,j as e}from"./index-C7RinoSz.js";import{u as ke}from"./useQuery-DsAPcWpp.js";import{i as Se,e as re,D as Pe,f as Oe,E as Le,L as Q,g as M,h as De,j as Ce,k as I,l as _e,m as Z,n as Ee,o as Te,p as me,u as We,G as ze,q as ne,r as fe,X as L,Y as D,s as pe,B as H,T as ie,R as G,A as Re,C as U,a as q,b as $e,P as Ie,c as Ke,d as se}from"./AreaChart-f1X5B2XT.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Fe=ae("arrow-down-right",Be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ge=ae("arrow-up-right",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qe=ae("dollar-sign",Ue);var Ve=["type","layout","connectNulls","ref"],He=["key"];function C(t){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},C(t)}function oe(t,r){if(t==null)return{};var n=Xe(t,r),a,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)a=c[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Xe(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function K(){return K=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},K.apply(this,arguments)}function le(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function g(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?le(Object(n),!0).forEach(function(a){j(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function O(t){return Ze(t)||Je(t)||Qe(t)||Ye()}function Ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qe(t,r){if(t){if(typeof t=="string")return ee(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(t,r)}}function Je(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ze(t){if(Array.isArray(t))return ee(t)}function ee(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=t[n];return a}function et(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ce(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,ye(a.key),a)}}function tt(t,r,n){return r&&ce(t.prototype,r),n&&ce(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function at(t,r,n){return r=X(r),rt(t,xe()?Reflect.construct(r,n||[],X(t).constructor):r.apply(t,n))}function rt(t,r){if(r&&(C(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xe=function(){return!!t})()}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X(t)}function it(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&te(t,r)}function te(t,r){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},te(t,r)}function j(t,r,n){return r=ye(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ye(t){var r=st(t,"string");return C(r)=="symbol"?r:r+""}function st(t,r){if(C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(C(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _=(function(t){function r(){var n;et(this,r);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=at(this,r,[].concat(s)),j(n,"state",{isAnimationFinished:!0,totalLength:0}),j(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),j(n,"getStrokeDasharray",function(o,l,u){var m=u.reduce(function(N,w){return N+w});if(!m)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/m),p=o%m,i=l-o,d=[],h=0,x=0;h<u.length;x+=u[h],++h)if(x+u[h]>p){d=[].concat(O(u.slice(0,h)),[p-x]);break}var b=d.length%2===0?[0,i]:[i];return[].concat(O(r.repeat(u,f)),O(d),b).map(function(N){return"".concat(N,"px")}).join(", ")}),j(n,"id",We("recharts-line-")),j(n,"pathRef",function(o){n.mainCurve=o}),j(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),j(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return it(r,t),tt(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,o=c.points,l=c.xAxis,u=c.yAxis,m=c.layout,f=c.children,p=Oe(f,Le);if(!p)return null;var i=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:me(x.payload,b)}},d={clipPath:a?"url(#clipPath-".concat(s,")"):null};return y.createElement(Q,d,p.map(function(h){return y.cloneElement(h,{key:"bar-".concat(h.props.dataKey),data:o,xAxis:l,yAxis:u,layout:m,dataPointFormatter:i})}))}},{key:"renderDots",value:function(a,s,c){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,m=l.points,f=l.dataKey,p=M(this.props,!1),i=M(u,!0),d=m.map(function(x,b){var N=g(g(g({key:"dot-".concat(b),r:3},p),i),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:m});return r.renderDotItem(u,N)}),h={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(c,")"):null};return y.createElement(Q,K({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(a,s,c,o){var l=this.props,u=l.type,m=l.layout,f=l.connectNulls;l.ref;var p=oe(l,Ve),i=g(g(g({},M(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(c,")"):null,points:a},o),{},{type:u,layout:m,connectNulls:f});return y.createElement(De,K({},i,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var c=this,o=this.props,l=o.points,u=o.strokeDasharray,m=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,i=o.animationEasing,d=o.animationId,h=o.animateNewValues,x=o.width,b=o.height,N=this.state,w=N.prevPoints,E=N.totalLength;return y.createElement(Ce,{begin:f,duration:p,isActive:m,easing:i,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(w){var T=w.length/l.length,k=l.map(function(v,Y){var R=Math.floor(Y*T);if(w[R]){var $=w[R],P=I($.x,v.x),ve=I($.y,v.y);return g(g({},v),{},{x:P(A),y:ve(A)})}if(h){var ge=I(x*2,v.x),be=I(b/2,v.y);return g(g({},v),{},{x:ge(A),y:be(A)})}return g(g({},v),{},{x:v.x,y:v.y})});return c.renderCurveStatically(k,a,s)}var B=I(0,E),W=B(A),z;if(u){var F="".concat(u).split(/[,\s]+/gim).map(function(v){return parseFloat(v)});z=c.getStrokeDasharray(W,E,F)}else z=c.generateSimpleStrokeDasharray(E,W);return c.renderCurveStatically(l,a,s,{strokeDasharray:z})})}},{key:"renderCurve",value:function(a,s){var c=this.props,o=c.points,l=c.isAnimationActive,u=this.state,m=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!m&&f>0||!_e(m,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,c=s.hide,o=s.dot,l=s.points,u=s.className,m=s.xAxis,f=s.yAxis,p=s.top,i=s.left,d=s.width,h=s.height,x=s.isAnimationActive,b=s.id;if(c||!l||!l.length)return null;var N=this.state.isAnimationFinished,w=l.length===1,E=re("recharts-line",u),S=m&&m.allowDataOverflow,A=f&&f.allowDataOverflow,T=S||A,k=Z(b)?this.id:b,B=(a=M(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},W=B.r,z=W===void 0?3:W,F=B.strokeWidth,v=F===void 0?2:F,Y=Ee(o)?o:{},R=Y.clipDot,$=R===void 0?!0:R,P=z*2+v;return y.createElement(Q,{className:E},S||A?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(k)},y.createElement("rect",{x:S?i:i-d/2,y:A?p:p-h/2,width:S?d:d*2,height:A?h:h*2})),!$&&y.createElement("clipPath",{id:"clipPath-dots-".concat(k)},y.createElement("rect",{x:i-P/2,y:p-P/2,width:d+P,height:h+P}))):null,!w&&this.renderCurve(T,k),this.renderErrorBar(T,k),(w||o)&&this.renderDots(T,$,k),(!x||N)&&Te.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var c=a.length%2!==0?[].concat(O(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(O(o),O(c));return o}},{key:"renderDotItem",value:function(a,s){var c;if(y.isValidElement(a))c=y.cloneElement(a,s);else if(Se(a))c=a(s);else{var o=s.key,l=oe(s,He),u=re("recharts-line-dot",typeof a!="boolean"?a.className:"");c=y.createElement(Pe,K({key:o},l,{className:u}))}return c}}])})(je.PureComponent);j(_,"displayName","Line");j(_,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ze.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});j(_,"getComposedData",function(t){var r=t.props,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,o=t.dataKey,l=t.bandSize,u=t.displayedData,m=t.offset,f=r.layout,p=u.map(function(i,d){var h=me(i,o);return f==="horizontal"?{x:ne({axis:n,ticks:s,bandSize:l,entry:i,index:d}),y:Z(h)?null:a.scale(h),value:h,payload:i}:{x:Z(h)?null:n.scale(h),y:ne({axis:a,ticks:c,bandSize:l,entry:i,index:d}),value:h,payload:i}});return g({points:p,layout:f},m)});var ot=fe({chartName:"LineChart",GraphicalChild:_,axisComponents:[{axisType:"xAxis",AxisComp:L},{axisType:"yAxis",AxisComp:D}],formatAxisMap:pe}),de=fe({chartName:"BarChart",GraphicalChild:H,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:L},{axisType:"yAxis",AxisComp:D}],formatAxisMap:pe});const J=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4"],ue=[{month:"Сен",записи:42,выручка:168e3,новыеПациенты:8},{month:"Окт",записи:55,выручка:22e4,новыеПациенты:12},{month:"Ноя",записи:48,выручка:192e3,новыеПациенты:9},{month:"Дек",записи:38,выручка:152e3,новыеПациенты:6},{month:"Янв",записи:51,выручка:204e3,новыеПациенты:11},{month:"Фев",записи:63,выручка:252e3,новыеПациенты:15}],lt=[{name:"Иванов А.П.",записи:38,завершено:32},{name:"Смирнова Е.В.",записи:29,завершено:25},{name:"Козлов М.С.",записи:22,завершено:18}],he=[{day:"Пн",загрузка:85},{day:"Вт",загрузка:92},{day:"Ср",загрузка:78},{day:"Чт",загрузка:96},{day:"Пт",загрузка:88},{day:"Сб",загрузка:60},{day:"Вс",загрузка:30}],V=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-3",children:[e.jsx("p",{className:"text-gray-700 text-sm mb-2",style:{fontWeight:600},children:n}),r.map((a,s)=>e.jsxs("p",{className:"text-xs",style:{color:a.color},children:[a.name,": ",e.jsx("span",{style:{fontWeight:600},children:typeof a.value=="number"&&a.name==="выручка"?`${a.value.toLocaleString("ru")} ₽`:a.name==="загрузка"?`${a.value}%`:a.value})]},s))]}):null;function ht(){const{patients:t,appointments:r,services:n}=Ne(),{data:a}=ke({queryKey:["analytics"],queryFn:async()=>(await new Promise(i=>setTimeout(i,400)),{totalRevenue:1188e3,growthRate:18.5})}),s=r.filter(i=>i.status==="completed"),c=r.filter(i=>i.status==="cancelled"),o=r.filter(i=>i.status==="scheduled"),l=Math.round(s.length/Math.max(r.length,1)*100),u=r.reduce((i,d)=>(i[d.service]=(i[d.service]||0)+1,i),{}),m=Object.entries(u).sort(([,i],[,d])=>d-i).slice(0,5).map(([i,d])=>({name:i,value:d})),f=[{name:"Завершено",value:s.length,color:"#10b981"},{name:"Запланировано",value:o.length,color:"#3b82f6"},{name:"Отменено",value:c.length,color:"#ef4444"},{name:"Не пришёл",value:r.filter(i=>i.status==="no-show").length,color:"#94a3b8"}].filter(i=>i.value>0),p=[{label:"Общая выручка",value:`${((a==null?void 0:a.totalRevenue)||1188e3).toLocaleString("ru")} ₽`,change:"+18.5%",up:!0,icon:qe,color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Всего пациентов",value:t.length.toString(),change:"+23 за месяц",up:!0,icon:Ae,color:"text-blue-600",bg:"bg-blue-50"},{label:"Всего записей",value:r.length.toString(),change:`${l}% выполнено`,up:l>=70,icon:we,color:"text-purple-600",bg:"bg-purple-50"},{label:"Выручка за день",value:"42 300 ₽",change:"+12% к прошлой нед.",up:!0,icon:ie,color:"text-orange-600",bg:"bg-orange-50"}];return e.jsxs("div",{className:"space-y-6 max-w-[1400px]",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-gray-900",style:{fontSize:"1.75rem",fontWeight:700},children:"Аналитика"}),e.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:"Статистика и показатели клиники"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(i=>e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 ${i.bg} rounded-xl flex items-center justify-center`,children:e.jsx(i.icon,{className:`w-5 h-5 ${i.color}`})}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${i.up?"text-emerald-600":"text-red-500"}`,style:{fontWeight:500},children:[i.up?e.jsx(Ge,{className:"w-3.5 h-3.5"}):e.jsx(Fe,{className:"w-3.5 h-3.5"}),i.change]})]}),e.jsx("p",{className:"text-gray-900",style:{fontSize:"1.5rem",fontWeight:700,lineHeight:1.2},children:i.value}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:i.label})]},i.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h2",{className:"text-gray-900",style:{fontSize:"1rem",fontWeight:600},children:"Выручка по месяцам"}),e.jsx("p",{className:"text-gray-400 text-sm mt-0.5",children:"Последние 6 месяцев"})]}),e.jsx(G,{width:"100%",height:220,children:e.jsxs(Re,{data:ue,margin:{top:5,right:5,left:-15,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"revenueGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.15}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(L,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"}}),e.jsx(D,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"},tickFormatter:i=>`${(i/1e3).toFixed(0)}k`}),e.jsx(q,{content:e.jsx(V,{})}),e.jsx($e,{type:"monotone",dataKey:"выручка",stroke:"#3b82f6",strokeWidth:2.5,fill:"url(#revenueGrad)",name:"выручка"})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-gray-900 mb-1",style:{fontSize:"1rem",fontWeight:600},children:"Статусы записей"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Распределение"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Ie,{width:160,height:160,children:e.jsx(Ke,{data:f,cx:75,cy:75,innerRadius:50,outerRadius:75,dataKey:"value",strokeWidth:0,children:f.map((i,d)=>e.jsx(se,{fill:i.color},d))})})}),e.jsx("div",{className:"space-y-2.5 mt-2",children:f.map(i=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:i.color}}),e.jsx("span",{className:"text-gray-600 text-xs",children:i.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-900 text-xs",style:{fontWeight:600},children:i.value}),e.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(i.value/r.length*100),"%)"]})]})]},i.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-gray-900 mb-1",style:{fontSize:"1rem",fontWeight:600},children:"Нагрузка врачей"}),e.jsx("p",{className:"text-gray-400 text-sm mb-5",children:"Записи и завершённые приёмы"}),e.jsx(G,{width:"100%",height:200,children:e.jsxs(de,{data:lt,margin:{top:0,right:0,left:-20,bottom:0},barGap:4,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(L,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94a3b8"}}),e.jsx(D,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),e.jsx(q,{content:e.jsx(V,{})}),e.jsx(H,{dataKey:"записи",fill:"#bfdbfe",radius:[4,4,0,0],name:"записи"}),e.jsx(H,{dataKey:"завершено",fill:"#3b82f6",radius:[4,4,0,0],name:"завершено"})]})}),e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-blue-200"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Записи"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Завершено"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-gray-900 mb-1",style:{fontSize:"1rem",fontWeight:600},children:"Загрузка по дням недели"}),e.jsx("p",{className:"text-gray-400 text-sm mb-5",children:"Средняя загруженность (%)"}),e.jsx(G,{width:"100%",height:200,children:e.jsxs(de,{data:he,margin:{top:0,right:0,left:-20,bottom:0},children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(L,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"}}),e.jsx(D,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"},domain:[0,100]}),e.jsx(q,{content:e.jsx(V,{})}),e.jsx(H,{dataKey:"загрузка",radius:[4,4,0,0],name:"загрузка",children:he.map((i,d)=>e.jsx(se,{fill:i.загрузка>=90?"#ef4444":i.загрузка>=75?"#f59e0b":"#10b981"},d))})]})}),e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-emerald-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Норма (<75%)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-amber-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Высокая (75-90%)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Пик (>90%)"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-gray-900 mb-1",style:{fontSize:"1rem",fontWeight:600},children:"Популярность услуг"}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"По количеству записей"}),m.length>0?e.jsx("div",{className:"space-y-4",children:m.map((i,d)=>{const h=m[0].value,x=Math.round(i.value/h*100);return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs flex-shrink-0",style:{backgroundColor:J[d]+"20",color:J[d],fontWeight:700},children:d+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-gray-700 text-sm",style:{fontWeight:500},children:i.name}),e.jsxs("span",{className:"text-gray-500 text-xs",children:[i.value," записей"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${x}%`,backgroundColor:J[d]}})})]})]},i.name)})}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ie,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Нет данных"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-gray-900 mb-1",style:{fontSize:"1rem",fontWeight:600},children:"Динамика записей и новых пациентов"}),e.jsx("p",{className:"text-gray-400 text-sm mb-5",children:"По месяцам"}),e.jsx(G,{width:"100%",height:220,children:e.jsxs(ot,{data:ue,margin:{top:5,right:5,left:-15,bottom:0},children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),e.jsx(L,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94a3b8"}}),e.jsx(D,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),e.jsx(q,{content:e.jsx(V,{})}),e.jsx(_,{type:"monotone",dataKey:"записи",stroke:"#3b82f6",strokeWidth:2.5,dot:{fill:"#3b82f6",r:4},name:"записи"}),e.jsx(_,{type:"monotone",dataKey:"новыеПациенты",stroke:"#10b981",strokeWidth:2.5,dot:{fill:"#10b981",r:4},name:"новыеПациенты"})]})}),e.jsxs("div",{className:"flex gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Записи"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Новые пациенты"})]})]})]})]})}export{ht as default};
